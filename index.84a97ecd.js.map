{"mappings":"YAAA,aAEA,IAAMA,EAAO,CACXC,aAAcC,SAASC,cAAc,qBACrCC,cAAeF,SAASC,cAAc,sBACtCE,MAAOH,SAASC,cAAc,iBAMhC,SAASG,IACPN,EAAKK,MAAME,UAAUC,OAAO,Y,CAJ9BR,EAAKC,aAAaQ,iBAAiB,QAASH,GAC5CN,EAAKI,cAAcK,iBAAiB,QAASH,GAM/BJ,SAASC,cAAc,eACvBD,SAASC,cAAc,UACrBD,SAASC,cAAc,eAFvC,IAGMO,EAAUR,SAASS,iBAAiB,WACtCD,EAAQE,OAAS,GAGrB,WAEE,IADA,IAAIC,EAAcC,EACTC,EAAQ,EAAGA,EAAQL,EAAQE,OAAQG,IAAS,CAEnDC,EADeN,EAAQK,G,CAIzB,SAASC,EAAWC,GAClBC,EAAeD,GACfE,IACIF,EAAOV,UAAUa,SAAS,eAahC,SAAmBH,GAEjB,I,kBACE,IAAMI,EAAaC,EAAYC,GAC/BF,EAAWZ,iBAAiB,cAAc,SAAUe,GAClDN,EAAeD,GACfE,EAAqBE,EAAWI,M,IAElCJ,EAAWZ,iBAAiB,cAAc,SAAUe,GAClDL,G,IAEFE,EAAWZ,iBAAiB,SAAS,SAAUe,GAC7CN,EAAeD,GAIfH,EAAYY,UAAYH,EAAQ,EAChCJ,G,KAhBEG,EAAcL,EAAON,iBAAiB,gBACnCgB,EAAQ,EAAGA,EAAQL,EAAYV,OAAQe,IAAOC,EAAAD,E,CAdrDE,CAAUZ,E,CAId,SAASC,EAAeD,GACtBJ,EAAeI,EAAOd,cAAc,kBACpCW,EAAcG,EAAOd,cAAc,gB,CAErC,SAASgB,I,IAAqBI,EAAAO,UAAAlB,OAAA,YAAAkB,UAAA,GAA6BA,UAAA,GAArBhB,EAAYY,UAC1CK,EAAoBR,EAAQ,IAClCV,EAAamB,MAAMC,MAAQ,GAAqBC,OAAlBH,EAAkB,I,EAvBlDI,GA2EF,IAAMC,EAAMlC,SAASC,cAAc,aAMnCD,SAASO,iBAAiB,WAAW,SAAUe,GAC9B,WAAXA,EAAEa,MAEJD,EAAI7B,UAAU+B,IAAI,Y","sources":["src/js/pop-up.js"],"sourcesContent":["'use strict';\n\nconst refs = {\n  openModalBtn: document.querySelector('[data-modal-open]'),\n  closeModalBtn: document.querySelector('[data-modal-close]'),\n  modal: document.querySelector('[data-modal]'),\n};\n\nrefs.openModalBtn.addEventListener('click', toggleModal);\nrefs.closeModalBtn.addEventListener('click', toggleModal);\n\nfunction toggleModal() {\n  refs.modal.classList.toggle('is-hidden');\n}\n\nconst input = document.querySelector('.form-input');\nconst modal = document.querySelector('.modal');\nconst btnSend = document.querySelector('.submit-btn');\nconst ratings = document.querySelectorAll('.rating');\nif (ratings.length > 0) {\n  initRatings();\n}\nfunction initRatings() {\n  let ratingActive, ratingValue;\n  for (let index = 0; index < ratings.length; index++) {\n    const rating = ratings[index];\n    initRating(rating);\n  }\n\n  function initRating(rating) {\n    initRatingVars(rating);\n    setRatingActiveWidth();\n    if (rating.classList.contains('rating-set')) {\n      setRating(rating);\n    }\n  }\n\n  function initRatingVars(rating) {\n    ratingActive = rating.querySelector('.rating-active');\n    ratingValue = rating.querySelector('.rating-value');\n  }\n  function setRatingActiveWidth(index = ratingValue.innerHTML) {\n    const ratingActiveWidth = index / 0.05;\n    ratingActive.style.width = `${ratingActiveWidth}%`;\n  }\n  function setRating(rating) {\n    const ratingItems = rating.querySelectorAll('.rating-item');\n    for (let index = 0; index < ratingItems.length; index++) {\n      const ratingItem = ratingItems[index];\n      ratingItem.addEventListener('mouseenter', function (e) {\n        initRatingVars(rating);\n        setRatingActiveWidth(ratingItem.value);\n      });\n      ratingItem.addEventListener('mouseleave', function (e) {\n        setRatingActiveWidth();\n      });\n      ratingItem.addEventListener('click', function (e) {\n        initRatingVars(rating);\n        // if (rating.dataset.ajax) {\n        //   setRatingValue(ratingItem.value, rating);\n        // } else {\n        ratingValue.innerHTML = index + 1;\n        setRatingActiveWidth();\n        // }\n      });\n    }\n  }\n  // async function setRatingValue(value, rating) {\n  //   if (!rating.classList.add('rating-sending')) {\n  //     rating.classList.add('rating-sending');\n  //     let response = await fetch(\n  //       'https://tasty-treats-backend.p.goit.global/api/recipes/',\n  //       {\n  //         method: 'GET',\n  //         // body: JSON.stringify({\n  //         //   userRating: value,\n  //         // }),\n  //         // headers: {\n  //         //   'content-type': 'application/json',\n  //         // },\n  //       }\n  //     );\n  //     if (response.ok) {\n  //       const result = await response.json();\n  //       const newRating = result.newRating;\n  //       ratingValue.innerHTML = newRating;\n  //       setRatingActiveWidth();\n  //       rating.classList.remove('rating-sending');\n  //     } else {\n  //       alert('False');\n  //       PerformanceResourceTiming.classList.remove('rating-sending');\n  //     }\n  //   }\n  // }\n}\nconst div = document.querySelector('.backdrop');\nfunction onBackdropClick(e) {\n  if (e.currentTarget !== e.target) {\n    div.classList.add('is-hidden');\n  }\n}\ndocument.addEventListener('keydown', function (e) {\n  if (e.code === 'Escape') {\n    // код клавиши Escape, но можно использовать e.key\n    div.classList.add('is-hidden');\n  }\n});\n"],"names":["$dae67d51b9dcdf97$var$refs","openModalBtn","document","querySelector","closeModalBtn","modal","$dae67d51b9dcdf97$var$toggleModal","classList","toggle","addEventListener","$dae67d51b9dcdf97$var$ratings","querySelectorAll","length","ratingActive","ratingValue","index1","initRating","rating","initRatingVars","setRatingActiveWidth","contains","ratingItem","ratingItems","index","e","value","innerHTML","index2","_loop","setRating","arguments","ratingActiveWidth","style","width","concat","$dae67d51b9dcdf97$var$initRatings","$dae67d51b9dcdf97$var$div","code","add"],"version":3,"file":"index.84a97ecd.js.map"}