{"mappings":"AAEA,MAAMA,EAAO,CACXC,aAAcC,SAASC,cAAc,qBACrCC,cAAeF,SAASC,cAAc,sBACtCE,MAAOH,SAASC,cAAc,iBAMhC,SAASG,IACPN,EAAKK,MAAME,UAAUC,OAAO,Y,CAJ9BR,EAAKC,aAAaQ,iBAAiB,QAASH,GAC5CN,EAAKI,cAAcK,iBAAiB,QAASH,GAM/BJ,SAASC,cAAc,eACvBD,SAASC,cAAc,UACrBD,SAASC,cAAc,eAFvC,MAGMO,EAAUR,SAASS,iBAAiB,WACtCD,EAAQE,OAAS,GAGrB,WACE,IAAIC,EAAcC,EAClB,IAAK,IAAIC,EAAQ,EAAGA,EAAQL,EAAQE,OAAQG,IAAS,CAEnDC,EADeN,EAAQK,G,CAIzB,SAASC,EAAWC,GAClBC,EAAeD,GACfE,IACIF,EAAOV,UAAUa,SAAS,eAahC,SAAmBH,GACjB,MAAMI,EAAcJ,EAAON,iBAAiB,gBAC5C,IAAK,IAAIW,EAAQ,EAAGA,EAAQD,EAAYT,OAAQU,IAAS,CACvD,MAAMC,EAAaF,EAAYC,GAC/BC,EAAWd,iBAAiB,cAAc,SAAUe,GAClDN,EAAeD,GACfE,EAAqBI,EAAWE,M,IAElCF,EAAWd,iBAAiB,cAAc,SAAUe,GAClDL,G,IAEFI,EAAWd,iBAAiB,SAAS,SAAUe,GAC7CN,EAAeD,GAIfH,EAAYY,UAAYJ,EAAQ,EAChCH,G,KA7BFQ,CAAUV,E,CAId,SAASC,EAAeD,GACtBJ,EAAeI,EAAOd,cAAc,kBACpCW,EAAcG,EAAOd,cAAc,gB,CAErC,SAASgB,EAAqBG,EAAQR,EAAYY,WAChD,MAAME,EAAoBN,EAAQ,IAClCT,EAAagB,MAAMC,MAAQ,GAAGF,I,EAvBhCG,GA2EF,MAAMC,EAAM9B,SAASC,cAAc,aAMnCD,SAASO,iBAAiB,WAAW,SAAUe,GAC9B,WAAXA,EAAES,MAEJD,EAAIzB,UAAU2B,IAAI,Y","sources":["src/js/pop-up.js"],"sourcesContent":["'use strict';\n\nconst refs = {\n  openModalBtn: document.querySelector('[data-modal-open]'),\n  closeModalBtn: document.querySelector('[data-modal-close]'),\n  modal: document.querySelector('[data-modal]'),\n};\n\nrefs.openModalBtn.addEventListener('click', toggleModal);\nrefs.closeModalBtn.addEventListener('click', toggleModal);\n\nfunction toggleModal() {\n  refs.modal.classList.toggle('is-hidden');\n}\n\nconst input = document.querySelector('.form-input');\nconst modal = document.querySelector('.modal');\nconst btnSend = document.querySelector('.submit-btn');\nconst ratings = document.querySelectorAll('.rating');\nif (ratings.length > 0) {\n  initRatings();\n}\nfunction initRatings() {\n  let ratingActive, ratingValue;\n  for (let index = 0; index < ratings.length; index++) {\n    const rating = ratings[index];\n    initRating(rating);\n  }\n\n  function initRating(rating) {\n    initRatingVars(rating);\n    setRatingActiveWidth();\n    if (rating.classList.contains('rating-set')) {\n      setRating(rating);\n    }\n  }\n\n  function initRatingVars(rating) {\n    ratingActive = rating.querySelector('.rating-active');\n    ratingValue = rating.querySelector('.rating-value');\n  }\n  function setRatingActiveWidth(index = ratingValue.innerHTML) {\n    const ratingActiveWidth = index / 0.05;\n    ratingActive.style.width = `${ratingActiveWidth}%`;\n  }\n  function setRating(rating) {\n    const ratingItems = rating.querySelectorAll('.rating-item');\n    for (let index = 0; index < ratingItems.length; index++) {\n      const ratingItem = ratingItems[index];\n      ratingItem.addEventListener('mouseenter', function (e) {\n        initRatingVars(rating);\n        setRatingActiveWidth(ratingItem.value);\n      });\n      ratingItem.addEventListener('mouseleave', function (e) {\n        setRatingActiveWidth();\n      });\n      ratingItem.addEventListener('click', function (e) {\n        initRatingVars(rating);\n        // if (rating.dataset.ajax) {\n        //   setRatingValue(ratingItem.value, rating);\n        // } else {\n        ratingValue.innerHTML = index + 1;\n        setRatingActiveWidth();\n        // }\n      });\n    }\n  }\n  // async function setRatingValue(value, rating) {\n  //   if (!rating.classList.add('rating-sending')) {\n  //     rating.classList.add('rating-sending');\n  //     let response = await fetch(\n  //       'https://tasty-treats-backend.p.goit.global/api/recipes/',\n  //       {\n  //         method: 'GET',\n  //         // body: JSON.stringify({\n  //         //   userRating: value,\n  //         // }),\n  //         // headers: {\n  //         //   'content-type': 'application/json',\n  //         // },\n  //       }\n  //     );\n  //     if (response.ok) {\n  //       const result = await response.json();\n  //       const newRating = result.newRating;\n  //       ratingValue.innerHTML = newRating;\n  //       setRatingActiveWidth();\n  //       rating.classList.remove('rating-sending');\n  //     } else {\n  //       alert('False');\n  //       PerformanceResourceTiming.classList.remove('rating-sending');\n  //     }\n  //   }\n  // }\n}\nconst div = document.querySelector('.backdrop');\nfunction onBackdropClick(e) {\n  if (e.currentTarget !== e.target) {\n    div.classList.add('is-hidden');\n  }\n}\ndocument.addEventListener('keydown', function (e) {\n  if (e.code === 'Escape') {\n    // код клавиши Escape, но можно использовать e.key\n    div.classList.add('is-hidden');\n  }\n});\n"],"names":["$0244a5a1b3e8d0b6$var$refs","openModalBtn","document","querySelector","closeModalBtn","modal","$0244a5a1b3e8d0b6$var$toggleModal","classList","toggle","addEventListener","$0244a5a1b3e8d0b6$var$ratings","querySelectorAll","length","ratingActive","ratingValue","index1","initRating","rating","initRatingVars","setRatingActiveWidth","contains","ratingItems","index","ratingItem","e","value","innerHTML","setRating","ratingActiveWidth","style","width","$0244a5a1b3e8d0b6$var$initRatings","$0244a5a1b3e8d0b6$var$div","code","add"],"version":3,"file":"index.81d4bffa.js.map"}